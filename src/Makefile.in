#
# PF_RING Static library
#
PFRINGDIR  = thirdParty/pfring/lib
LIBPFRING  = ${PFRINGDIR}/libpfring.a


#
# Include pf_ring static library and linux lib64
#
INCLUDE    = -I${PFRINGDIR} -I/lib64

#
# C compiler and flags
#
#
# CROSS_COMPILE=arm-mv5sft-linux-gnueabi-
#
CC         = ${CROSS_COMPILE}gcc #--platform=native
CFLAGS     = @CFLAGS@ ${O_FLAG} -Wall ${INCLUDE} -O2 # -g
# LDFLAGS  =

#
# User and System libraries
#
LIBS       = ${LIBPFRING} -lpthread

# How to make an object file
%.o: %.c pfutils.c
#	@echo "=*= making object $@ =*="
	${CC} ${CFLAGS} -c $< -o $@

##
## Main targets
##
TARGETS   = pfcount pfutils

all: ${TARGETS}

pfcount: pfcount.o ${LIBPFRING}
	${CC} ${CFLAGS} pfcount.o ${LIBS} -o $@

clean:
	@rm -f ${TARGETS} *.o *~
